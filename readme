wem: Wesley's Exoplanet Modeler
Wesley Verne

Compilation: Use "make" in the home directory (the one containing this 
readme). The executables are not added to the path by default.

This program models rocky exoplanets using numeric integration of
equations of state.  It consists of multiple executables, outlined 
below.

----- wemEG: Equation of State Generator -----
wemEG generates EOS tables for use with exoplanet integrators.  Tables
are preferred because they are much faster than calculating the EOS 
inline. The EOS is sampled logarithmically over a given range of 
pressures or densities. Many EOSes fail at high pressures by generating
decreasing or negative densities.  Because the exoplanet integration
code requires that the EOS tables be sorted, wemEG stops printing a
table if the density decreases with an increase in pressure.

The supplied bash script "wemEGGen" creates a folder named "EOS_Tables"
and populates it with a basic set of EOSes.

Usage: wemEG arguments
Arguments consist of option-parameter sets.  Options begin with "-" and
set the parameters for the EOS generator.  All parameters have default
values, but because using entirely defaults isn't useful, running wemEG
with no arguments will display the program usage, the equivalent of
running "wemEG -help".  All parameters are in SI units, and the table
generated is in MBar and 

Examples:
wemEG -n 1          (creates a table for iron)
wemEG -m 1 2 0.25   (creates a table for a 25% iron, 75% MgSiO3)

Arguments: 
-num/-n eos_num
    Sets the equation of state to be tabulated.
     0: Fe (epsilon) BME3    (Daewaele et al. 2006)
     1: Fe (epsilon) Vinet   (Daewaele et al. 2006) (default)
     2: MgSiO3 (pv) Vinet    (Tsuchiya et al. 2004)
     3: MgO (periclase) BME3 (Speziale et al. 2001)
     4: SiC (ZB + RS) BME3   (Lu et al. 2008)
     5: Diamond Vinet        (Kunc et al. 2003)
     6: Platinum Vinet       (Sun et al. 2008)
     7: H2O Ice VII Vinet    (Wolanin et al. 1997)
    -1: white dwarf polytrope (testing)
    -2: Platinum BME4        (Sun et al. 2008) (testing)
    -3: H2O Ice VII BME3 (Wolanin et al. 1997) (testing)
    -4: Fe Vinet (Seager et al. 2007)
    -5: MgSiO3 (pv) 4th order BME (Seager et al. 2007)
    -6: Fe TFD (Salpeter & Zapolsky 1967)
    -7: n=1 polytrope (testing)
-density/-d
    Integrate over the given density range (not active by default).
-pressure/-p
    Integrate over the given pressure range (this is the default).
-step/-s step_size
    Sets the step size for the table.  The table is logarithmic, so
    step_size is in orders of magnitude.  Default is 0.01.
-start/-b start_density_or_pressure
    Sets the beginning density or pressure for the table.  This must be
    greater than zero because the scale is logarithmic.  Default is 
    6220 (density) or 1e6 (pressure).
-end/-e end_density_or_pressure
    Sets the end density or pressure for the table.  Default is 1e5
    (density) or 1e15 (pressure).
-tempnum/-tn temp_num
    Sets the thermal equation of state correction to be used (note: -num
    must still be set).  Not active by default.
    1: Fe (epsilon)    (Daewaele et al. 2006)
    2: MgSiO3 (pv)     (Tsuchiya et al. 2004)
    3: MgO (periclase) (Speziale et al. 2001)
    5: Diamond         (Kunc et al. 2003)
    6: Platinum        (Sun et al. 2008)
-temp/-t temperature
    Sets the temperature.  This will only have an effect if -tempnum is
    set.  Default is 0.0.
-outfile/-o
    Sets the output filename.  Default is "wemEG_out".
-mix/-m eos_num1 eos_num2 ratio
    Sets the EOS as a mix of eos_num1 and eos_num2, with the given 
    fraction of eos_num1, using volume addition law.
-verbose/-v
    Sets wemEG to verbose mode.  So far it isn't very useful: all it
    does is print "Calculating EOS..." after the arguments are parsed
    but before the EOS is calculated.
-help/-h 
    Prints help output instead of generating an EOS table.

----- wemEP: Exoplanet Profiler -----
wemEP generates profiles of individual exoplanets, consisting of 
pressure, density and interior mass with respect to radius.  It accepts
EOSes in the tabular form generated by wemEG.  A core EOS must be 
specified, and any number of EOS - mass fraction pairs may be specified.
wemEP generates planets with the given EOSes of any specified mass or 
radius. The mass fraction dictates the fraction of the planet's mass 
interior to the bottom of the layer with that EOS. The integrator starts
at the center of the planet, integrating outwards and switching EOSes 
as each boundary until the pressure reaches zero.  Because it is 
impossible to know the mass or radius of a planet before it is 
integrated, the integrator uses the Newton-Raphson method to find the 
appropriate starting (central) pressure to yield the given mass or 
radius.

Temperature and EOS mixes are supported via appropriate settings in
wemEG.

Usage: wemEP arguments
Arguments consist of option-parameter sets.  Options begin with "-" and
set the parameters for the exoplanet profiler.  All parameters have
default values, except for the central EOS, which must be specified.
Units vary; see the individual arguments.

Arguments:
-central/-c eos_file
   Sets the central EOS (default is Fe, EOS num 1, at 0K).
-eos/-e eos_file mass_fraction
   Switches to the given EOS when mass_fraction of the planet has been
   integrated.  This argument may be given an arbitrary number of times.
-interval/-i output_interval
   Sets the interval at which layers are printed to output file (default
   is 100, so every 100th layer is printed). The surface layer is always
   printed.
-mass/-m total_mass (Earth masses)
   Sets the total mass of the planet.  Internally, wemEP guesses a
   central pressure and iteratively improves the central pressure using
   Newton-Raphson method in order to converge to the given mass. Note
   that the mass cannot be constrained to arbitrary precision. Default
   is 1 Earth mass.
-step/-s step_size (meters)
   Sets the step size of the integration.  This must be set fairly low 
   in order to precisely fix the mass or radius. Default is 100 meters.
-outfile/-o
    Sets the output filename.  Default is "wemEP_out".
-verbose/-v
    Sets wemEG to verbose mode.  So far it isn't very useful: all it
    does is print "Calculating EOS..." after the arguments are parsed
    but before the EOS is calculated.
-help/-h 
    Prints help output instead of generating an EOS table.